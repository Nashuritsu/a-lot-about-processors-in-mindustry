# Предисловие
Документация была составлена Nashuri! **UwU**

Тут **могут** содержаться грамматические ошибки, а так же ошибочная информация

    Список изменений (1.5.0.0):

- были до конца убраны "В игре: `код...`" из всех инструкций

- были добавлены уточнения в некоторых `(аргументах)`

- были добавлены недостающие символы, а так же одно грамматическое исправление

<br> </br>

# Инструкции

- ## Ввод и вывод (Изменять контент блоков памяти и буферов процессора)
**read** - Считывает число из соединненой ячейки памяти

 - `read (результат считывания) (ячейка памяти) (номер ячейки)`

**write** - Записывает число в соединненую ячейку памяти

- `write (вписываемое значение) (ячейка памяти) (номер ячейки)`

**draw** - Добавляет операцию в буфер отрисовки. Ничего не отображает, пока не будет вызван draw flush. Операции:

- **clear** - Заливка дисплея цветом

    * `draw clear (r, число) (g, число) (b, число) 0 0 0`

- **color** - Установка цвета для следующих операций отрисовки

    * `draw color (r, число) (g, число) (b, число) (a, число) 0 0`

- **col** - Эквивалент цвета, но упакованный. Упакованные цвета записываются в виде шестнадцатеричных кодов с префиксом %. Пример %ff0000 будет красным.

    * `draw col (цвет-код) 0 0 0 0 0`

- **stroke** - Установка толщины линии.

    * `draw stroke (число) 0 0 0 0 0 `

- **line** - Отрисовка отрезка

    * `draw line (координата x) (координата y) (вторая координата x) (вторая кооордината y) 0 0`

- **rect** - Отрисовка закрашенного прямоугольника

    * `draw rect (координата x) (координата y) (ширина, число) (высота, число) 0 0`

- **lineRect** - Отрисовка контура прямоугольника

    * `draw lineRect (координата x) (координата y) (ширина, число) (высота, число) 0 0`

- **poly** - Отрисовка закрашенного правильного многоугольника

    * `draw poly (координата x) (координата y) (стороны, число) (радиус, число) (поворот, число) 0`

- **linePoly** - Отрисовка контора правильного многоугольника

    * `draw linePoly (координата x) (координата y) (стороны, число) (радиус, число) (поворот, число) 0`

- **triangle** - Отрисовка закрашенного треугольника

    * `draw triangle (координата x) (координата y) (вторая координата x) (вторая координата y) (третья координата x) (третья координата y)`

- **image** - Отрисовка внутриигровых спрайтов. Например: @router или @dagger.

    * `draw image (координата x) (координата y) (@спрайт) (размер, число) (поворот, число) 0`

**print** - Добавляет текст в текстовый буфер. Ничего не отображает, пока не будет вызван print flush

- `print (значение)`

<br> </br>

- ## Контроль блоков (Взаимодействовать с блоками)

<br> </br>

**drawFlush** - Сбрасывает буфер draw операций на дисплей

- `drawflush (блок)`

**printFlush** - Сбрасывает буфер print операций в блок-сообщение

- `printflush (блок)`

**get link** - Получает соединение из процессора по индексу. Начинает с 0

- `getlink (результат) (число)`

**control** - Контролирует блок. Операции:

- **enabled** - Включен ли блок

    * `control enabled (блок) (0 - false, 1 - true) 0 0 0`

- **shoot** - Стрельба в определенную позицию

    * `control shoot (блок) (координата x) (координата y) (0 - false, 1 true) 0`

- **shootp** - Стрельба в единицу/постройку с расчётом скорости

    * `control shootp (блок) (единица/постройка) (0 - false, 1 - true) 0 0`

- **config** - Конфигурация постройки, например предмет сортировки

    * `control config (блок) (тип предмета/жидкости или параметр) 0 0 0`

- **сolor** - Цвет осветителя

    * `control color (блок) (код цвета или упакованный цвет) 0 0 0`

**radar** - Обнаруживает единицы вокруг постройки с заданным радиусом

- `radar (цель) (цель) (цель) (сортировка) (блок) (порядок сортировки) (результат)`

**sensor** - Получает данные из постройки или единицы

- `sensor (результат) (блок/переменная) (тип предмета/жидкости, либо параметр)`

<br> </br>

- ## Операции (Логические операции)

<br> </br>

**set** - Устанавливает переменную

- `set (имя переменной) (значение)`

**operation** - Совершает операцию над 1-2 переменными

- `op (математическая операция) (результат) (переменная/значение) (переменная/значение)`

ИЛИ

- `op (математическая операция) (результат) (переменная/значение) (переменная/значение)`

ИЛИ

- `op (математическая операция) (результат) (переменная/значение) 0`

**wait** - Ждёт определенное количество секунд

- `wait (время, число)`

**lookup** - Находит тип предмета/жидкости/единицы/блока по ID. Общее количество каждого типа может быть получено при помощи @unitCount / @itemCount / @liquidCount / @blockCount

- `lookup (block/unit/item/liquid) (результат) (ID, число)`

**pack color** - Упаковывает компоненты RGBA [0, 1] в один номер для рисования или установки правил

- `packcolor результат (число) (число) (число) (число)`

<br> </br>

- ## Контроль следования (Управлять порядком выполнения)

<br> </br>

**end** - Переходит к началу стека операций

- `end`

**jump** - Условно переходит к другой операции

- Операция сравнения **equal (==)** - равно. Приводит типы. Не-null объекты, при сравнению с числами, становятся 1. Иначе - 0

- Операция сравнения **notEqual (not)** - не равно. Приводит типы

- Операция сравнения **lessThan (<)** - меньше, чем...

- Операция сравнения **lessThanEq (<=)** - меньше, чем или равно...

- Операция сравнения **greaterThan (>)** - больше, чем...

- Операция сравнения **greaterThanEq (>=)** - больше, чем или равно...

- Операция сравнения **strictEqual (===)** - cтрогое равенство. Не приводит типы. Может быть использовано для проверки на null

- Операция сравнения **always** - всегда истинна

- `jump (строка, на которую переместиться) (операция сравнения) (A) (B)`

<br> </br>

- ## Контроль единицами (Дать команды единицам)

<br> </br>


**unit bind** - Привязывается к единице определенного типа и сохраняет её в @unit

- `ubind (тип единицы)`

**unit control** - Управляет привязанной в данный момент единицей

- **idle** - Остановка движения, но продолжение строительства/копания. Состояние по умолчанию

    * `ucontrol idle 0 0 0 0 0`

- **stop** - Остановка движения/копания/строительства

    * `ucontrol stop 0 0 0 0 0`

- **move** - Перемещение в определенную позицию

    * `ucontrol move (координата x) (координата y) 0 0 0`

- **approach** - Приближение к позиции с указанным радиусом

    * `ucontrol approach (координата x) (координата y) (радиус, число) 0 0`

- **boost** - Включение\выключение полёта

    * `ucontrol boost (0 - false, 1 - true) 0 0 0 0`

- **target** - Стрельба в определенную позицию

    * `ucontrol target (координата x) (координата y) (стрелять ли, 0 - false, 1 true) 0 0`

- **targetp** - Стрельба в единицу/постройку с расчетом скорости

    * `ucontrol targetp (тип постройки/единицы) (стрелять ли, 0 - false, 1 - true) 0 0 0`

- **itemDrop** - Сбрасывание предметов

    * `ucontrol itemDrop (блок) (количество, число) 0 0 0`

- **itemTake** - Взятие предметов из построек

    * `ucontrol itemTake (блок) (тип предмета) (количество, число) 0 0`

- **payDrop** - Сброс текущего груза

    * `ucontrol payDrop 0 0 0 0 0`

- **payTake** - Взятие груза на текущей позиции

    * `ucontrol payTake (число) 0 0 0 0`

- **payEnter** - Войти/приземлиться в грузовой блок на котором находится единица

    * `ucontrol payEnter 0 0 0 0 0`

- **mine** - Копание на позиции

    * `ucontrol mine (координата x) (координата y) 0 0 0`

- **flag** - Числовой флаг единицы

    * `ucontrol flag (число) 0 0 0 0`

- **build** - Строительство структур

    * `ucontrol build (координата x) (координата y) (блок) (поворот, число) (тип предмета/жидкости или параметр)`

- **getBlock** - Распознавание блока и его типа на координатах. Единица должна находится в пределах досягаемости. Твёрдые не-постройки будут иметь тип @solid

    * `ucontrol getBlock (координата x) (координата y) (тип) (блок) 0`

- **within** - Проверка на нахождение единицы рядом с позицией

    * `ucontrol within (координата x) (координата y) (радиус, число) (результат) 0`

- **unbind** - Полность отключает управление логикой. Восстанавливает стандартный ИИ

    * `ucontrol unbind 0 0 0 0 0`

**unit radar** - Обнаруживает единицы вокруг привязанной в данный момент единицы

- `uradar (цель) (цель) (цель) (сортировка) 0 (порядок сортировки) (результат)`

**unit locate** - Обнаруживает позицию/постройку определённого типа где-либо на карте. Требует привязанную единицу

В зависимости чего найти меняются аргументы:

- В случае, если надо найти **ore** - источник руды

    * `ulocate ore core true (тип предмета) (результат x координаты) (результат y координаты) (результат поиска) building`

- В случае, если надо найти **building** - постройка определенной группы

    * `ulocate building (группа) (true/false) @copper (результат x координаты) (результат y координаты) (результат успеха поиска) building (результат поиска)`

- В случае, если надо найти **spawn** - точка появления врагов. Может быть ядром или позицией на карте

    * `ulocate spawn core true @copper (результат x координаты) (результат y координаты) (результат успеха поиска) building (результат поиска)`

- В случае, если надо найти **damaged** - повреждённая дружеская постройка

    * `ulocate damaged core true @copper (результат x координаты) (результат y координаты) (результат успеха поиска) building (результат поиска)`

<br> </br>

- ## Мир (Контролировать поведение мира)

**get block** - получает данные о плитке в любом месте

- `getblock (пол/руда/блок/постройка определённой группы) (результат) (координата x) (координата y)`

**set block** - устанавливает плитку в любом месте

- `setblock (floor/ore/block) (устанавливаемый блок) (координата x) (координата y) (команда) (поворот, число)`

**spawn unit** - создаёт боевую единицу на локации

- `spawn (тип единицы) (координата x) (координата y) (поворот, число) (команда) (результат)`

**apply status** - применяет или снимает эффект статуса с боевой единицы

- `status (false = apply, true = clear) (эффект) (тип юнита) (время, число)`

⠀Эффекты статуса:

- **burning** - горение

- **freezing** - замерзание

- **unmoving** - обездвиживание

- **wet** - влага

- **melting** - плавление

- **sapped** - истощение

- **electrified** - электризация

- **spore-slowed** - замедление спорами

- **tarred** - в нефти

- **overdrive** - ускорение

- **overclock** - разгон

- **boss** - страж

- **shocked** - шок

- **blasted** - разрыв

**spawn wave** - имитация волны, создаваемой в произвольной месте. Счётчик волн не увеличивается

- `spawnwave (координата x) (координата y)`

**set rule** - устанавливает игровое правило

- `setrule waveSpacing (значение) 0 0 0 0`

Для **mapArea**:

- `setrule mapArea 0 (координата x) (координата y) (ширина, число) (высота, число)`

Для **buildSpeed**, **unitBuildSpeed**, **unitDamage**, **blockHealth**, **blockDamage**, **rtsMinWeight**, **rtsMinSquad**:

- `setrule (одно из выше) (значение) (команда) 0 0 0`

⠀Игровые правила:

- **currentWaveTime** - время волны

- **waveTimer**

- **waves**

- **wave**

- **waveSpacing**

- **attackMode**

- **enemyCoreBuildRadius**

- **dropZoneRadius**

- **unitCap**

- **mapArea**

- **lighting**

- **ambientLight**

- **solarMultiplier**

- **buildSpeed**

- **unitBuildSpeed**

- **unitDamage**

- **blockHealth**

- **blockDamage**

- **rtsMinWeight**

- **rtsMinSquad**

**flush message** - Отображает сообщение на экране из текстого буфера. Будет ожидать окончание предыдущего сообщения

Для **notify/mission**:

- `message (notify/mission 0)`

Для **announce/toast**:

- `message (announce/toast) (время, число)`

**Cutscene** - управляет камерой игрока

- **pan** - переместить камеру в определенную позицию (в игре нет описания)

    * `cutscene pan (координата x) (координата y)  (скорость, число) 0`

- **zoom** - является "модификацей" к **pan**, приближает камеру (в игре нет описания)

    * `cutscene zoom (число) 0 0 0`

- **stop** - останавливает действие **pan** и **zoom** (в игре - остановка передвижения/копания/строительства)

    * `cutscene stop 0 0 0 0`

**explosion** - создаёт взрыв на локации

- `explosion (команда) (координата x) (координата y) (радиус, число) (урон, число) (возд. false/true) (назем. false/true) (пробивает ли, false/true)`

**set rate** - устанавливает скорость выполнения процессора в инструкциях/тиках

- `setrate (число)`

**fetch** - ищет юнитов, ядра, игроков или зданий по индексу. Индексы начинаются с 0 и заканчиваются возращаемым числом

Написание разница от выбранной цели поиска

Для **unit**, **player**, **core**:

- `fetch (одно из выше) (результат) (команда) (индекс, число) @conveyor`

Для **unitCount**, **playerCount**, **coreCount**:

- `fetch (одно из выше) (результат) (команда) 0 @conveyor`

Для **build**:

- `fetch build (результат) (команда) (индекс, число) (постройка)`

Для **buildCount**:

- `fetch buildCount (результат) (команда) 0 (постройка)`

**get flag** - проверяет, установлен ли глобальный флаг

- `getflag (результат) ("имя флага")`

**set flag** - устанавливает глобальный флаг, который может быть прочитан всеми процессорами

- `setflag ("имя флага") (значение)`

<br> </br>

# Типы предметов/жидкостей/единиц, цели, сортировки, групп, математические операции и параметры


 - ## Типы предметов


**@copper** - Медь

**@lead** - Свинец

**@metaglass** - Метастекло

**@graphite** - Графит

**@sand** - Песок

**@coal** - Уголь

**@titanium** - Титан

**@thorium** - Торий

**@scrap** - Металлолом

**@silicon** - Кремний

**@plastanium** - Пластан

**@phase-fabric** - Фазовая ткань

**@surge-alloy** - Кинетический сплав

**@spore-pod** - Споровой стручок

**@blast-compound** - Взрывчатая смесь

**@pyratite** - Пиротит

**@beryllium** - Бериллий

**@tungsten** - Вольфрам

**@oxide** - Оксид

**@carbide** - Карбид
<br> </br>
- ##  Типы жидкостей

**@water** - Вода

**@slag** - Шлак

**@oil** - Нефть

**@cryofluid** - Криогенная жидкость

**@neoplasm** - Неоплазма

**@arkycite** - Аркицит

**@ozone** - Озон

**@hydrogen** - Водород

**@nitrogen** - Азот

**@cyanogen** - Циан
<br> </br>
- ## Типы единиц

<p></p>

- **Наземные единицы**

**@dagger** - Кинжал

**@mace** - Булава

**@fortress** - Крепость

**@scepter** - Скипетр

**@reigh** - Власть

**@nova** - Нова

**@pulsar** - Пульсар

**@quasar** - Квазар

**@vela** - Парус

**@corvus** - Ворон

**@crawler** - Ползун

**@atrax** - Атракс

**@spiroct** - Спайрокт

**@arkyid** - Аркид

**@toxopid** - Токсопид
<br> </br>
- **Летающие единицы**

**@flare** - Вспышка

**@horizon** - Горизонт

**@zenith** - Зенит

**@antumbra** - Затемь

**@eclipse** - Затмение

**@mono** - Моно

**@poly** - Поли

**@mega** - Мега

**@quad** - Квад

**@oct** - Окт
<br> </br>
- **Морские единицы**

**@risso** - Риссо

**@minke** - Минке

**@bryde** - Брайд

**@sei** - Сейвал

**@omura** - Омура

**@retusa** - Ретуза

**@oxynoe** - Оксино

**@cyerse** - Цирс

**@aegires** - Эгирес

**@navanax** - Наванакс
<br> </br>
- **Единицы, управляемые игроком (Серпуло)**

**@alpha** - Альфа (От ядра "Осколок")

**@beta** - Бета (От ядра "Штаб")

**@gamma** - Гамма (От ядра "Атом")
<br> </br>
- **Танки**

**@stell** - Stell

**@locus** - Locus

**@precept** - Precept

**@vanquish** - Vanquish

**@conquer** - Conquer
<br> </br>
- **Мехи**

**@merui** - Merui

**@cleroi** - Cleroi

**@anthicus** - Anthicus

**@tecta** - Tecta

**@collaris** - Collaris
<br> </br>
- **Корабли**


**@elude** - Elude

**@avert** - Avert

**@obviate** - Obviate

**@quell** - Quell

**@disrupt** - Disrupt
<br> </br>
- **Единицы, управляемые игроком (Эрекир)**

**@evoke** - Evoke (От ядра "Бастион")

**@incite** - Incite (От ядра "Цитадель")

**@emanate** - Emanate (От ядра "Акрополис)
<br> </br>
- ## Цели

**any** - любая единица

**enemy** - вражеская единица

**ally** - дружеская единица

**player** - единица, управляемая игроком

**attacker** - единица с оружием

**flying** - летающая единица

**boss** - страж

**ground** - наземная единица
<br> </br>
- ## Сортировки

**distance** - по дистации

**health** - по здоровью

**shield** - по щиту

**armor** - по броне

**maxHealth** - по максимальному здоровью
<br> </br>
- ## Группы

**core** - любое ядро

**storage** - здание хранения, например, контейнер

**generator** - постройки, вырабатывающие энергию

**turret** - любая турель

**factory** - постройки, перерабатывающие предметы

**repair** - ремонтные пункты

**battery** - любой аккумулятор

**reactor** - импульсный/ториевый реактор
<br> </br>
- ##  Математические операции

- Операции

**add (+)** - Складывание

**sub (-)** - Вычитание

**mul (\*)** - Умножение

**div (/)** - Деление. Возращает null при делении на 0

**idiv (//)** - Целочисленное деление

**mod (%)** - Остаток от деления

**pow (^)** - Степень

**equal (==)** - Равно. Приводит типы. Не-null объекты, при сравнению с числами, становятся 1. Иначе - 0

**notEqual (not)** - Не равно. Приводит типы

**land (and)** - Булевое И

**lessThan (<)** - Меньше, чем...

**lessThanEq (<=)** - Меньше, чем или равно...

**greaterThan (>)** - Больше, чем...

**greaterThanEq (>=)** - Больше, чем или равно...

**strictEqual (===)** - Строгое равенство. Не приводит типы. Может быть использовано для проверки на null

**shl (<<)** - Побитовый сдвиг влево

**shr (>>)** - Побитовый сдвиг вправо

**or (or)** - Побитовое ИЛИ

**and (b-and)** - Побитовое И

**xor (xor)** - Побитовое исключающее ИЛИ

**not (flip)** - Побитовое НЕ

**max (max)** - Максимальное из двух чисел

**min (min)** - Минимальное из двух чисел

**angle (angle)** - Угол вектора в градусах

**len (len)** - Длина вектора

**noise (noise)** - Симплексный шум. 2D

**abs (abs)** - Абсолютная величина

**log10 (log10)** - Логарифм по основанию 10

**floor (floor)** - Округляет число до ближайшего меньшего

**ceil (ceil)** - Округляет число до ближайшего большего

**sqrt (sqrt)** - Квадратный корень

**rand (rand)** - Случайное число в диапазоне [0, значение]

**sin (sin)** - Синус, в градусах

**cos (cos)** - Косинус, в градусах

**tan (tan)** - Тангенс, в градусах

**asin (asin)** - Арксинус, в градусах

**acos (acos)** - Арккосинус, в градусах

**atan (atan)** - Арктангенс, в градусах

- То как записывается или вроде того

Для **add (+)**, **sub (-)**, **mul (\*)**, **div (/)**, **idiv (//)**, **mod (%)**, **pow (^)**, **equal (==)**, **notEqual (not)**, **land (and)**, **lessThan (<)**, **lessThanEq (<=)**, **greaterThan (>)**, **greaterThanEq (>=)**, **strictEqual (===)**, **shl (<<)**, **shr (>>)**, **or (or)**, **b-and (and)**, **xor (xor)**:

`(переменная/результат) = (переменная/значение) (операция) (переменная/значение)`

Для **max (max)**, **min (min)**, **angle (angle)**, **len (len)**, **noise (noise)**:

`(переменная/результат) = (операция) (переменная/значение) (переменная/значение)`

Для **not (flip)**, **abs (abs)**, **log10 (log10)**, **floor (floor)**, **ceil (ceil)**, **sqrt (sqrt)**, **rand (rand)**, **sin (sin)**, **cos (cos**), **tan (tan)**, **asin (asin)**, **acos (acos)**, **atan (atan)**:

`(переменная/результат) = (операция) (переменная/значение)`
<br> </br>
- ## Параметры

**totalItems** - Общее количество предметов в хранилище

**firstItem** - Первый предмет в хранилище

**totalLiquids** - Общее количество жидкости в хранилище

**totalPower** - Общее количество энергии в энергохранилище

**itemCapacity** - Вместимость предмета в хранилище

**liquidCapacity** - Вместимость жидкости в хранилище

**powerCapacity** - Вместимость энергии в энергохранилище

**powerNetStored** - Количество энергии в сети на данный момент

**powerNetCapacity** - Вместимость энергии в сети

**powerNetIn** - Входной ток (Выработка энергии)

**powerNetOut** - Выходной ток (Трата энергии)

**ammo** - Количество боеприпасов на данный момент

**ammoCapacity** - Вместимость (количество) боеприпасов

**health** - Здоровье единицы/блока

**maxHealth** - Максимальное здоровье единицы/блока

**heat** - Количество тепла

**efficiency** - Эффективность (Отношение сделанной работы к результату)

**progress** - Прогресс действия от 0 до 1

**timescale** - Скорость вокруг (1 - нормальная скорость)

**rotation** - Поворот единицы/блока

**x** - Местоположение объекта по координате x

**y** - Местоположение объека по координате y

**shootX** - Местоположение курсора по координате x

**shootY** - Местоположение курсора по координате y

**size** - Размер блока/единицы

**range** - Радиус действия блока/единицы

**shooting** - Стреляет ли блок/единица

**boosting** - В полёте ли наземная единица

**mineX** - Местоположение копания по координате x

**mineY** - Местоположение копания по координате y

**mining** - Копает ли единица?

**speed** - Скорость единицы (плиток/секунду)

**team** - Номер команды игрока (?)

**type** - Тип постройки или единицы. Не строка

**flag** - Числовой флаг единицы

**controlled** - Возращает:

- **@ctrlProcessor** если единица управляется процессором

- **@ctrlPlayer** если единица управляется игроком

- **ctrlFormation** если единица в строю

    В противном случае - 0

**controller** - Командующий единицей. Если единица управляется процессором, возвращает процессор. Если в строю, возращает командующего. В противном случае возращает саму единицу

**name** - Ник игрока

**payloadCount** - Количество груза (блок/единица)

**payloadType** - Тип груза (блок/единица)

**enabled** - Включён ли блок

**config** - Конфигурация постройки, например, предмет сортировки

**color** - Цвет осветителя